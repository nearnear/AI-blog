{"componentChunkName":"component---src-templates-blog-post-js","path":"/CS/OS/2022-08-30-cs-cpu-performance/","result":{"data":{"allMarkdownRemark":{"totalCount":51},"markdownRemark":{"id":"2e8fa597-2b1a-50f4-b35a-19068dc905a8","html":"<h2>1. Expanding clocks, cores, and threads</h2>\n<p>하드웨어 관점에서 CPU 성능을 높이는 방법을 알아본다.</p>\n<br>\n<h3>1.1 클럭 (clock)</h3>\n<ul>\n<li>클럭 속도는 1초에 반복되는 주기의 수로 정의되는 헤르츠(Hz)로 측정한다. 이 글을 쓰고 있는 컴퓨터의 클럭 속도는 3.2GHz이므로, 1초에 클럭이 32억번 반복되는 셈이다.</li>\n<li>클럭은 고정된 값이 아니며, CPU가 고성능을 요하는 순간에 클럭 속도를 높이고 그렇지 않을 때는 낮출 수 있다.</li>\n<li>일정 범위 내에서는 클럭 속도를 높여 CPU 성능을 향상시킬 수 있다. 최대 클럭 속도를 강제로 끌어올리는 것도 가능하며, 이를 오버클럭킹(overclocking)이라고 한다.</li>\n<li>오버클럭킹은 발열 문제가 있으며 클럭을 통해 CPU 성능을 향상시키는데에 한계가 있다.</li>\n</ul>\n<br>\n<h3>1.2 코어 (Core)</h3>\n<ul>\n<li>코어란 CPU의 핵심 부품으로 ALU, Control Unit, register set의 세트로 생각할 수 있다.</li>\n<li>멀티 코어 CPU의 각 코어는 서로에게 독립적인 연산을 한다. 따라서 코어의 개수가 한 개에서 네 개로 늘어나면 시간 단위 CPU 연산량이 늘어날 수 있다.</li>\n<li>CPU의 연산속도가 꼭 코어 수에 비례하지는 않는다. 작업량이 적은 경우에는 대체로 1 코어와 4 코어의 성능에 큰 차이가 없다. 또 작업량이 큰 경우에도 4 코어가 1 코어에 비해 언제나 성능이 우수한 것은 아닌데, 각 코어는 독립적이기 때문이다. 작업량에 관계없이 하나의 코어만 연산을 하고 있을 수도 있다.</li>\n<li>따라서 CPU 성능을 높이기 위해서는 각 코어가 처리할 연산을 적절히 <strong>분배</strong>하는 것이 중요하다.</li>\n</ul>\n<br>\n<h3>1.3 스레드 (Thread)</h3>\n<p>스레드는 하드웨어 관점과 소프트웨어 관점에 따라 다르게 이해될 수 있다.</p>\n<h4>하드웨어 스레드</h4>\n<ul>\n<li>하드웨어 관점에서 스레드는 하나의 <strong>코어</strong>가 처리할 수 있는 프로세스(명령어 단위)를 의미한다.</li>\n<li>논리 프로세서(logic processor)라고도 한다. 즉 하드웨어 스레드는 CPU에 물리적으로 존재하는 것이 아니며, OS의 관점에서 본 CPU의 단위로 생각할 수 있다.</li>\n<li>2 코어 4 스레드 CPU는 코어마다 스레드가 2개씩 작동됨을 의미한다. 전체 스레드는 4개이다.</li>\n<li>Multithreading은 코어의 가용 자원을 효율적으로 이용해서 여러개의 스레드를 실행하는 기술이다. Intel의 Hyperthreading이나 AMD의 SMT; simultaneous multi-threading이 있다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACkUlEQVR42lWSy28bVRSH/fdWXQUJKhA0LECwqUDqhoSAKpWUpnXSKji243c8fsx77sx4Xnfmju3aadqCCBKVWCB9KJNuWHw6Z/Xpdx61f1cr/ikL3mcJfyUR14Hgz0XA77bFO9PgjT7jtW1w6VhsTZ1S5agypywkKk9RMuMqini1LFmvltTWMmMlE2TokwUese+y8D22KueyLNionE1ZsC4kqyyhLAuU+iCU2S1pjExj8iylFqcJQRTihQIvjVn88ph090us8Qij3yXe+4E49IlDQZTFFHnGspCVsJAphcwqbsSVcLPdsikVF/v7/PH2LVrrjNGjR/RfnGB8/gW9ly8Y73yE++QQkcVkSUSeZ7eJ0gRZcZMuuRXq+oz5fIo26GEac/qzCdZ336PV63TabbqDAbNOB8uYIwKPKBA44xG2aWDMZ5j6nPl0QiDcKmVNCBdXOIjQx7EtHOGSq5zlUlG8WlW9qqqkWCrkVCP86msMy8QxdSxTR59NyJK4WkFNqhwxHCCnU969/5vwpwOy+7sY3XN+29kheviQxLOJPYc4jRDjEe1vv8FxHVzbxLWtSprGi2qXtas3V8gkQZ9oqMstLz/7lObuffpHv6Ldvcugccrs3j0mP+7z5JOPEb0uonmG73sEnluN6nsuaRzdCh3XpnP8HKvf4/r6mv5ogP3gAad37tBtnDLULpj3u5izCZNum8gycc8aCNfGd2yEbeHZFukiRN0c5efDxxzWn3Ny1uCk0eB8NKSraXTGY9rDIcPpBHuxwAp87CgkvvnB15eo9fJ/5KsSqQpqzb09zg8OmD59WmEeH6M/e4ZRrzM7OsKsHxO1WkStNotWCzUcsL64YD3+gDZm0++xbTbZDAf8B6jk5c/lQQUXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"https://www.cgdirector.com/cpu-cores-vs-logical-processors-threads/\"\n        title=\"\"\n        src=\"/static/1f43544435d50598a393f6fe86bbbf2d/c1b63/cs-hyperthreading.png\"\n        srcset=\"/static/1f43544435d50598a393f6fe86bbbf2d/5a46d/cs-hyperthreading.png 300w,\n/static/1f43544435d50598a393f6fe86bbbf2d/0a47e/cs-hyperthreading.png 600w,\n/static/1f43544435d50598a393f6fe86bbbf2d/c1b63/cs-hyperthreading.png 1200w,\n/static/1f43544435d50598a393f6fe86bbbf2d/3ceac/cs-hyperthreading.png 1456w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<pre class=\"grvsc-container abyss\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">가상 코어가 스레드를 스케쥴링을 하고, 이를 통해 하나의 물리 코어가 멀티 스레드를 보다 효율적으로 실행하도록 한다.</span></span></code></pre>\n<h4>(소프트웨어) 스레드</h4>\n<p>소프트웨어 관점에서 스레드는 하나의 <strong>프로그램 내</strong>에서 독립적으로 실행되는 단위를 의미한다.</p>\n<p><img src=\"/96fcc3edc2de25d6fd137b1756cd2052/cs-stack-allocation.gif\" alt=\"https://help.perforce.com/sourcepro/11/html/threadsug/3-9.html\"></p>\n<p>그림은 스택 영역에서 싱글 스레드와 멀티 스레드의 차이점을 보이고 있다. 그림처럼 프로그램이 메모리에 올라간 뒤 처음부터 끝까지 순차적으로 진행되는 것이 아니라, 여러 부분이 동시에 실행되는 것이 멀티 스레드이다.</p>\n<br>\n<br>\n<h2>2. ILP; Istruction-Level Parallelism</h2>\n<p>명령어를 병렬적으로 처리하여 CPU 성능을 향상시키는 방법을 알아본다. Instruction Scheduling이라고 부르기도 한다. 하드웨어 조건이 필요하지 않는 경우도, 필요한 경우도 있다.</p>\n<br>\n<h3>2.1. Instruction Pipelining</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 596px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.66666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBElEQVR42n2SyQ6iQBRF/f+vYFEkWhCHlSYmbkwUB6AKigKVahyQxiEsiDiAaCdUh7Q23WdB2Jx3H49bu1wucRwnBVEUJUlyv98fj8f1eh2Px6PR6P1+v16vdxU1hJBhGAghTdMQQvP5HGM8nU4RQqDgf7Lv+67r2rbtFPAX27YppbDgdrs9n89q+Xa7OY5DCOFPjmEYGGNZlhuNxnw+j+O4Mr+WZVkYhowxQgiltPQxxvV6HQBg2/bhcKgMr/F56/XasixKqWEYhBD+/ZIkiaK4Wq0URfE87+/w33IURdvt1itYr9eMMdd12+22JEnb7ZYxdjweXwUfcjkviiJVVWezmaZpo9FIURRRFAVBmM1muq4Ph8PJZJJl2bfMSZIkCALP81jBYrFoNpsQwh8FrutuNpvr9ZrneZlf+7oBxpjnK4oCABAEQdd1RVH4Rv1+P4qictkPOc/z8/nM//xyuWy1WhBCfgKezxg7n8/l8h8yn+f7vqZppmnKsgwAIISYpokxRghRSgeDQXn5CjmO4/1+b1kWhFAUxbJwlFLbtgkhm83mcrl8y3/6hmF0Oh0IIZd5BXkLMMa6rlccjJOmqe/7kiQJgsCbYxbw2pqm6TjO6XSqkHl4mqbdbleW5eVyyQvLZVVV+Ra9Xu+fcpZl7XYbAHA4HH4WBAX7/T4IgjAMd7vdL6I4jRxAZ+oxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"https://www.researchgate.net/figure/Instruction-Pipeline-Stages_fig1_3739433\"\n        title=\"\"\n        src=\"/static/4f41e9361f781633b73d9d6ae05ce87f/699b7/cs-instruction-pipeline-stages.png\"\n        srcset=\"/static/4f41e9361f781633b73d9d6ae05ce87f/5a46d/cs-instruction-pipeline-stages.png 300w,\n/static/4f41e9361f781633b73d9d6ae05ce87f/699b7/cs-instruction-pipeline-stages.png 596w\"\n        sizes=\"(max-width: 596px) 100vw, 596px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>공장의 생산 라인처럼 명령어를 병렬적으로 다루는 것을 명령어 파이프라이닝이라고 한다. 하나의 코어와 스레드를 가지는 프로세서라도 명령어 처리 과정이 중복되지 않는 한에서 여러개의 명령어를 동시에 실행할 수 있다.</p>\n<p>위 그림에서 한 줄에 해당하는 것이 하나의 명령어 처리 과정이다. 파이프라이닝을 통해 한 클럭에 최대 8개의 명령어를 처리하고 있다. 그렇지만 여기서는 모든 명령어가 서로 의존적이지 않고, 실행할 과정의 순서와 수가 같도록 그려졌다.</p>\n<h4>파이프라인 위험 (Pipeline hazard)</h4>\n<p>파이프라인 위험이란 파이프라이닝으로 성능 향상에 실패하는 경우를 말하며, 명령어를 인출(fetch)한 후 해석(decode) 과정에서 감지된다.</p>\n<ul>\n<li>데이터 위험 (Data hazard) : 여러 명령어에서 데이터를 의존적으로 사용하는 경우 파이프라이닝이 불가능하다.\n<ul>\n<li>scoreboarding : 각 레지스터에 비트를 할당해 데이터의 변경 가능성을 제한하는 것으로 데이터 위험을 피할 수 있다.</li>\n</ul>\n</li>\n<li>제어 위험 (Control hazard) : 분기로 인해 프로그램 카운터가 급격히 바뀌는 경우 이미 처리중이었던 명령어들이 쓸모 없어질 수 있다.\n<ul>\n<li>branch prediction : 프로그램의 분기를 예측해서 주소를 인출해 제어 위험을 피할 수 있다.</li>\n</ul>\n</li>\n<li>구조적 위험 또는 자원 위험 (Structural hazard or Resource hazard) : 다른 명령어가 동시에 ALU나 레지스터 등을 사용하려 할 때 발생하는 위험이다. 한 번에 다른 명령어가 같은 과정을 처리하려 할 때도 구조적 위험에 속한다.</li>\n</ul>\n<br>\n<h3>2.2. Super Scalar</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 97.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTUlEQVR42nWTfZObIBDG8/2/We+aqg2+RQiJyqnxjXAqKiAdpUk7tvf7Y2eH4XF3n5UDpXSaJqWUEGKLUiklpRRCmChM3FBKjeM4z7OUUmt9aJpmmmettVJq2dBaL3+h1CKfVFXF2Oc0TebaKh7HcVnWG6bmJlg/JOY5TUmWZXGcxHGc57nn+a7rEvKhN1bx/L/KWmvOOUIIAOB5HgDA930YQcdxoggOw7CKy7Js27brOsbY50bX9YwxzrlSig+83xiGoes6zrnJf8+c57nv+8FGdI6CIAjDEAAXIcQYM0295t/lh6qqWkoJIRDCMAyjKMIYn04n13Vt24njmDFmJnpFk/wWT9MkpWyaJooiM5tt247jHI8/3r69WZYVJ0nf97strGIIodgcNoY/Ho+qqiCECCHTi+/7juMEQZimZOfrwfeDdfvLIoQwttVNg/H1fr8XRVHey6IoCPnIsux+v+/FeZ4LIczpMAyPx6NtW7OJ5R/2hhUbddOszrVtU9eU0qqq6IOq5Y9Dakv24jiOHeenC8DpdPI8z7Is27aP348QIvn04svKeZ7HcXy5YAgRhOh8PiN08Vzf832M8a7/vbhtW855miZPg+HtdgMAuK4bhiGl9Ks3s4rruuGcM8bSNL1ebxjjJEmeS/IgRFmWfVl5fZLTpLWmlK5/ZnhGCIXhGQD3/f3dsiwI4UuzFydJwhiTUo7jSAi5YEzIB1659n0/bsxPhBCvfJqmA6W0LMtmoyzLLMuLosg2MMYIojQlbdvWdW3umKSu6zRNfwEPCS5zpJKivQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"https://www.researchgate.net/figure/Superscalar-versus-scalar-clock-cycles_fig2_283345112\"\n        title=\"\"\n        src=\"/static/f3deb79e3503e4367ea99cabacba33ee/ae694/cs-superscalar.png\"\n        srcset=\"/static/f3deb79e3503e4367ea99cabacba33ee/5a46d/cs-superscalar.png 300w,\n/static/f3deb79e3503e4367ea99cabacba33ee/0a47e/cs-superscalar.png 600w,\n/static/f3deb79e3503e4367ea99cabacba33ee/ae694/cs-superscalar.png 850w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>여러 개의 명령어 파이프라닝을 진행하는 것을 슈퍼 스칼라라고 한다.</p>\n<ul>\n<li>클럭마다 동시에 여러 명령어를 인출하고 실행할 수 있어야 한다. 따라서 싱글 스레드 프로세서로는 구현이 불가능하다.</li>\n<li>슈퍼 스칼라 구조로 명령어 처리가 가능한 CPU를 Super Scalar Processor라고 한다. 멀티스레드 프로세서가 여기에 해당한다.</li>\n<li>잘 구현되면, 파이프라인 개수에 비례하여 프로그램 처리 속도를 향상시킬 수 있다.</li>\n<li>파이프라인 위험은 여전히 존재한다.</li>\n</ul>\n<br>\n<h3>2.3. OoOE; Out-of-Order Execution</h3>\n<p>지금까지는 명령어를 프로그램의 순서에 따라 처리해왔지만, 같은 결과를 보장하는한 명령어의 순서를 바꿀 수도 있다. 비순차적 명령어 처리(OoOE)는 명령어의 실행 순서를 바꾸어 파이프라이닝 위험을 피하는 기술이다. dynamic scheduling이라고도 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 922px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC5UlEQVR42oWUW28bRRiG8/u4QuKGm0pwU1VCBSq4QAgFJBqQKKVVJJq0SlIFUCPSqo0ibihEIjhO0xK59SF24/WuN6Q+rE/12s4eZnf2QTN2TuKiI83OYWcffd/3vjtTSZJAkqDHSTszfWMTMURRTCzHjCn1kFLql2ZtwKvWkULS7/dxXZfA97AbfUpFByf3klzNIONYZFo2VrvMcNjjKAA/iE6Bxy2VdXhe7gGSimlSqZh0W3XWU2U+u7LOyluXuLTwMe+ufc7bD6e5ufI+g8xdwgTiWOrUphTIdQeMBj228w7ZSk/D/SDAMAwsq0okAta3bL6d/oPF63e4c3OW+VvzrFyepjhzAdf5m0glmcgxcG+vyNMnKX7fNslb/RNgqVTS0OHI48gT3L6f4dr8MreW7/Lj8gKzNx7w6MJXHC5dRPim/k6nrAqq2na+dRKhSiEMQ8JQEIoYIWJao4jazA2cT77AufgRjUePaTf6jOomQvinQDkBjmvY/Z/UUSwRYTzeXl0juXcf5hbhRVbvyTOqa+CxME7Po9Hx8IIYX6C7FyYcqbVMGACBsorKAPAS6A4kPdfn9TAkCOPztilYrykduLhDD8N6RaVao+l0ePzsgJ8WnrHzwyKz6VWu7jzky617PEjP0a7+Q3cEXdfHV8CzJk3njmsose0qhUKef6sVMi9rfH99k1/e+4a5ax+wtPsdS8ZfbJVWEZ2ijjZJxkFNeZ5HNptjL/+ctY3CicqhiKjX6zQaTRIZsZlvcPXrTX575wrdny+Da+tzQTw+q+qsja2UNE2LdrNGOqdE6egKDYejE9uM1K+QJPy6Ueb2zJ/sfvohncIiYRRrB4SRHBtbRXg25afFLk+yhxweWFRtm/39fWzbRkSSUJxqqWaREmeyfw6ofThZpPNtNnYMci92Sae3SaVSNJtN1GvtxUhqJZU31YWggZHU4zngsW3ckaDZ7mMYZR1duVzG98eGlZPb5E39P37bUHh6RSb+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"https://hpca23.cse.tamu.edu/taco/utsa-www/cs5513-fall07/lecture5.html\"\n        title=\"\"\n        src=\"/static/c5938ddb723531796504d5fe7642b8a8/6da96/cs-oooe.png\"\n        srcset=\"/static/c5938ddb723531796504d5fe7642b8a8/5a46d/cs-oooe.png 300w,\n/static/c5938ddb723531796504d5fe7642b8a8/0a47e/cs-oooe.png 600w,\n/static/c5938ddb723531796504d5fe7642b8a8/6da96/cs-oooe.png 922w\"\n        sizes=\"(max-width: 922px) 100vw, 922px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>일단 프로세서가 프로그램의 모든 명령어를 순차적으로 읽어들인다. 명령어의 operand가 당장 접근할 수 있는 상태인 경우, 프로그램에서의 순서와 상관없이 실행 사이클로 명령어를 이동시킨다.</p>\n<p>OoOE를 구현하기 위해서는 명령어 사이의 데이터 의존성을 파악해 순서를 바꾸어도 같은 결과가 나오는 것을 보장해야 한다. WAR; write and read 또는 WAW; write and write 같은 data hazard에 유의해야 한다.</p>\n<br>\n<br>\n<h2>3. ISA; Instruction Set Architecture</h2>\n<p>명령어 집합 구조란 CPU가 이해하는 명령어 집합으로, CPU에 따라 ISA가 다를 수 있다. 즉 하나의 CPU는 서로 다른 ISA를 이해할 수 없다. 다른 ISA는 어셈블리 언어도 다르며, 제어 장치가 명령어를 해석하는 방식, 사용되는 레지스터의 종류와 개수, 메모리 관리 방법 또한 다르다. 따라서 ISA의 선택에 따라 CPU의 성능이 달라질 수 있다.</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>program</mtext><mover><mo stretchy=\"true\" minsize=\"3.0em\">↔</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mtext>compiler</mtext></mpadded></mover><mtext>ISA</mtext><mover><mo stretchy=\"true\" minsize=\"3.0em\">↔</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow></mrow></mpadded></mover><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mtext>assembly</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mtext>language</mtext></mstyle></mtd></mtr></mtable><mover><mo stretchy=\"true\" minsize=\"3.0em\">↔</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>a</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>m</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>r</mi></mrow></mpadded></mover><mtext>CPU</mtext></mrow><annotation encoding=\"application/x-tex\">\\text{program} \\xleftrightarrow{\\text{compiler}} \n\\text{ISA} \\xleftrightarrow{\\text{}}\n\\begin{aligned}\n\\text{assembly} \\\\ \\text{language}  \\end{aligned}\n\\xleftrightarrow{assembler} \\text{CPU}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.3025em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">program</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">compiler</span></span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"stretchy\" style=\"height:0.522em;min-width:1.75em;\"><span class=\"halfarrow-left\" style=\"height:0.522em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"0.522em\" viewBox=\"0 0 400000 522\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z\"></path></svg></span><span class=\"halfarrow-right\" style=\"height:0.522em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"0.522em\" viewBox=\"0 0 400000 522\" preserveAspectRatio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"></path></svg></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.011em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6943em;vertical-align:-0.011em;\"></span><span class=\"mord text\"><span class=\"mord\">ISA</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.622em;\"><span style=\"top:-3.144em;\"><span class=\"pstrut\" style=\"height:2.522em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord text mtight\"></span></span></span></span><span class=\"svg-align\" style=\"top:-2.511em;\"><span class=\"pstrut\" style=\"height:2.522em;\"></span><span class=\"stretchy\" style=\"height:0.522em;min-width:1.75em;\"><span class=\"halfarrow-left\" style=\"height:0.522em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"0.522em\" viewBox=\"0 0 400000 522\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z\"></path></svg></span><span class=\"halfarrow-right\" style=\"height:0.522em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"0.522em\" viewBox=\"0 0 400000 522\" preserveAspectRatio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"></path></svg></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.011em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3em;vertical-align:-1.25em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.75em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">assembly</span></span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">language</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.25em;\"><span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">sse</span><span class=\"mord mathnormal mtight\">mb</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">er</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"stretchy\" style=\"height:0.522em;min-width:1.75em;\"><span class=\"halfarrow-left\" style=\"height:0.522em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"0.522em\" viewBox=\"0 0 400000 522\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z\"></path></svg></span><span class=\"halfarrow-right\" style=\"height:0.522em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"0.522em\" viewBox=\"0 0 400000 522\" preserveAspectRatio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"></path></svg></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.011em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">CPU</span></span></span></span></span></span></div>\n<p>ISA에는 CISC와 RISC가 있다.</p>\n<br>\n<h3>3.1. CISC; Complex Instruction Set Computer</h3>\n<p>CISC는 다양한 상황에 대응하기 위해 복잡한 명령어를 다수 포함하고 있는 명령어 집합 구조다. CISC를 활용하면 프로그램의 길이가 짧아 메모리가 절약되지만, 명령어 파이프라인 구현이 어려워 CPU 성능을 제한하는 요소가 된다.</p>\n<ul>\n<li>명령어 비규격화\n<ul>\n<li>가변 길이 명령어를 활용한다.</li>\n<li>명령어의 종류가 많고, 명령어의 길이가 다양하다.</li>\n<li>명령어 수행 시간은 종류에 따라 여러 클럭이 소요된다.</li>\n</ul>\n</li>\n<li>메모리 절약\n<ul>\n<li>같은 프로그램을 상대적으로 짧은 명령어로 실행한다.</li>\n<li>프로그램의 크기가 작아 메모리가 절약된다.</li>\n</ul>\n</li>\n<li>단점\n<ul>\n<li>명령어 파이프라인 구현이 어렵다.</li>\n<li>복잡한 명령어 대다수는 사용 빈도가 낮다.</li>\n</ul>\n</li>\n<li>ex) x-86, x86-64</li>\n</ul>\n<br>\n<h3>3.2. RISC; Reduced Instruction Set Computer</h3>\n<p>RISC는 명령어 파이프라인에 최적화하기 위해 명령어를 단순하게 규격화한 명령어 집합 구조다. 메모리 접근 제한으로 인해 load-store 구조라고도 불린다.</p>\n<ul>\n<li>명령어 규격화\n<ul>\n<li>고정 길이 명령어를 활용한다.</li>\n<li>명령어의 종류가 적고, 명령어의 길이는 짧다.</li>\n<li>명령어 수행 시간은 1클럭 내외로 지향한다.</li>\n<li>명령어의 수는 같은 프로그램에 대해 CISC 보다 많은 편이다.</li>\n</ul>\n</li>\n<li>메모리 접근 최소화\n<ul>\n<li>메모리 접근 명령어는 load 와 store 두가지로 제한한다.</li>\n<li>CISC에 비해 주소 지정 방식을 적게 사용한다.</li>\n</ul>\n</li>\n<li>레지스터 활용\n<ul>\n<li>레지스터 활용 연산이 많다.</li>\n<li>CPU에 범용 레지스터 개수가 많다.</li>\n</ul>\n</li>\n<li>ex) arm</li>\n</ul>\n<br>\n<h3>참고자료</h3>\n<ul>\n<li>『혼자 공부하는 컴퓨터 구조 + 운영체제』, 강민철, 한빛미디어</li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"[컴퓨터 구조] CPU 성능 향상 방법","date":"August 30, 2022"}}},"pageContext":{"slug":"/CS/OS/2022-08-30-cs-cpu-performance/","previous":{"fields":{"slug":"/CS/Python/2022-08-30-basic-crawler/"},"frontmatter":{"title":"[Python] 크롤링 - 기초 크롤러"}},"next":{"fields":{"slug":"/CS/OS/2022-08-30-cs-data/"},"frontmatter":{"title":"[컴퓨터 구조] 데이터 타입"}}}},"staticQueryHashes":["1185972000","3231742164"],"slicesMap":{}}