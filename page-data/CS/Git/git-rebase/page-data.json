{"componentChunkName":"component---src-templates-blog-post-js","path":"/CS/Git/git-rebase/","result":{"data":{"allMarkdownRemark":{"totalCount":45},"markdownRemark":{"id":"80527815-ad15-5367-8a88-634fe419f566","html":"<h2>발단</h2>\n<p>르포를 작성해 깃허브로 푸시를 하던 도중, 깃허브 프로필에 등장하는 커밋 히스토리가 업데이트 되지 않는다는 것을 발견했다. 날짜에 따라 녹색으로 시각화되어서 \"잔디\"라고 부르는데, 원인을 탐색하다보니 커밋의 저자가 깃허브 계정과 다르게 설정되어 있다는 것을 알았다. 그래서 과거의 커밋들의 저자를 바꾸는 작업을 진행했다.</p>\n<br>\n<br>\n<h2>과정</h2>\n<h3>git config 수정</h3>\n<p>우선 실행하기 전에, git의 config에서 user.name과 user.email 값이 제대로 설정되어 있는지 확인한다.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git config --list</span></span></span></code></pre>\n<p>만약 config 값에 user.name 또는 user.email 중 하나라도 원하는 값으로 설정이 되어있지 않으면 수정하도록 한다. 정확히는 config 값이 깃허브의 세팅과 차이가 있어 작업을 하는 것이므로, 실수가 없도록 한다.</p>\n<ul>\n<li>user.email이 <code>github settings > Emails</code>에 저장된 값과 같아야 그 계정의 commit으로 기록된다.</li>\n</ul>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git config --global user.name </span><span class=\"mtk11\">&quot;이름(깃허브 별명)&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git config --global user.email </span><span class=\"mtk11\">&quot;이메일 주소&quot;</span></span></span></code></pre>\n<ul>\n<li><code>--global</code> 키워드를 입력하지 않으면 현재 위치한 디렉터리의 git config에만 반영된다.</li>\n</ul>\n<br>\n<h3>git log 확인, rebase 해시 코드 불러오기</h3>\n<p>commit이 진행된 branch로 이동해 git log를 조회한다.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git log --pretty=format:</span><span class=\"mtk11\">&quot;%h = %an , %ar : %s&quot;</span><span class=\"mtk1\"> --graph</span></span></span></code></pre>\n<p>이 중에서 rebase하고자 하는 가장 오래된 커밋의 해시 코드를 저장한다.</p>\n<p>나의 경우, 르포의 생성을 제외하고 모두 author가 다르게 지정되어 있어 두번째 코드부터 rebase해야 했다.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">*</span><span class=\"mtk1\"> c85847a = 현정, 35 minutes ago </span><span class=\"mtk15\">:</span><span class=\"mtk1\"> Update class.md</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">*</span><span class=\"mtk1\"> b5a7c63 = 현정, 3 weeks ago </span><span class=\"mtk15\">:</span><span class=\"mtk1\"> Category Update</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">*</span><span class=\"mtk1\"> 7d5867b = 현정, 3 weeks ago </span><span class=\"mtk15\">:</span><span class=\"mtk1\"> Category Update</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">*</span><span class=\"mtk1\"> 0ea6049 = near, 3 weeks ago </span><span class=\"mtk15\">:</span><span class=\"mtk1\"> Initial commit</span></span></span></code></pre>\n<p>두번째 <code>7d5867b</code>가 rebase를 시작할 해시 코드이다.</p>\n<br>\n<h3>git rebase ...</h3>\n<p>다음과 같이 rebase를 시작한다.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git rebase -i -p 해시코드</span></span></span></code></pre>\n<p>이 명령어는 vi 편집기로 연결된다.</p>\n<ul>\n<li>rebase할 커밋들의 <code>pick</code>을 <code>edit</code>으로 모두 변경한다.</li>\n<li>내용을 수정한 후 <code>:wq!</code>로 저장한 후 종료한다.\n<ul>\n<li><code>!</code>는 강제이므로 생략해도 무방하다.</li>\n</ul>\n</li>\n</ul>\n<p>이제부터 반복적인 과정이다.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git commit --amend --author=</span><span class=\"mtk11\">&quot;이름 &lt;이메일 주소&gt;&quot;</span></span></span></code></pre>\n<p>이 명령은 커밋 메시지를 편집하는 vi 편집기로 연결된다. 이때, 그냥 종료하지 말고 <code>:wq</code>를 통해 저장 후 종료해야 다음 rebase를 진행할 수 있다.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git rebase --continue</span></span></span></code></pre>\n<p>vi 편집기를 나온 후 rebase를 계속 진행하기 위해 위처럼 입력한다.</p>\n<p>그 후 다시 author를 수정한 커밋을 진행하고, 다음과 같은 결과가 뜰 때까지 rebase를 한다.</p>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">(base) % git rebase --continue</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Successfully rebased and updated refs/heads/main.</span></span></span></code></pre>\n<br>\n<h3>git push origin +[branch]</h3>\n<pre class=\"grvsc-container abyss\" data-language=\"bash\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git push origin +[branch]</span></span></span></code></pre>\n<p>origin에 현재 브랜치를 강제로 push한다.</p>\n<br>\n<br>\n<h2>결과</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABpklEQVR42m1Sy5LbIBDkTzYI8ZAQCAGyZdnlWueWyiGpyjU55pRzPiHf3SkGyaut5NA1wMw0PQ1siCum8x0urhjnG2QfIfQIYSqaErd9o/3zfEfbBRg/E9SQwEqRsgmiC9AuQw8Z2mdKGjdTrg0RymVIM1Fe+fyslTbS2rhM5KwPZ9oQ0RbbkKipQOQMOWVIl6BPM8RrxstrgrZb/d5bLrIJrIy4q9Fjhgq1SI2VsJCXZrU1t2uGWBJMfyAMJ5iwQA25jlxkFxCxn9H2Exrjq3cHP8u6UR7N8yxQH48GsldoGglmpwUurfDpSoRcOTJ/B9dl7yjW9fHcg0uL/vET7usf6I+/wIZ4QfGxGEoFyhE+yOEd8f8xVsL7dwyffkNef4DZsMDnK4bpgmFaYMO5Ks5XuuQfxWpTany1xYzgQoHzBrxpwYqRJj3QFYQFxp+giqd9fKeY03gOwgWIeQKPI7irnvLirQ6kmIkuol+/oL99Q7d8hp0f9OI72dGvF2Hh1gu6PD8teZugKmeimyDHG1S4U5R+hSyf+TDu8wGUg+jGN6JDfsdfd3xMkc2fRsIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jandi is back\"\n        title=\"\"\n        src=\"/static/f7356d919204c96c3e681634fcbe5563/c1b63/jandi-is-back.png\"\n        srcset=\"/static/f7356d919204c96c3e681634fcbe5563/5a46d/jandi-is-back.png 300w,\n/static/f7356d919204c96c3e681634fcbe5563/0a47e/jandi-is-back.png 600w,\n/static/f7356d919204c96c3e681634fcbe5563/c1b63/jandi-is-back.png 1200w,\n/static/f7356d919204c96c3e681634fcbe5563/2dc7d/jandi-is-back.png 1760w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>잃어버린 들에도 봄은 오는 것으로.</p>\n<br>\n<br>\n<h2>참고</h2>\n<p><a href=\"https://wellbell.tistory.com/43\">https://wellbell.tistory.com/43</a> 에서 많은 도움을 받았다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .mtk1 { color: #6688CC; }\n  .abyss .mtk11 { color: #22AA44; }\n  .abyss .mtk7 { color: #225588; }\n  .abyss .mtk15 { color: #9966B8; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"[Git] git rebase로 잔디 회복하기","date":"August 30, 2022"}}},"pageContext":{"slug":"/CS/Git/git-rebase/","previous":{"fields":{"slug":"/AI/Vision/image-style-transfer/"},"frontmatter":{"title":"[Paper] Image Style Transfer, 2016"}},"next":{"fields":{"slug":"/CS/Git/git-cheat-sheet/"},"frontmatter":{"title":"[Git] 깃 치트 시트"}}}},"staticQueryHashes":["1185972000","3231742164"],"slicesMap":{}}